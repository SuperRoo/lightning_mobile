/*
 * File: app.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

//@require @packageOverrides
Ext.Loader.setConfig({
    paths: {
        'Ext.device': 'device/'
    }
});

Ext.application({
    models: [
        'Appointments',
        'Status',
        'InventoryMain',
        'InventoryUser',
        'RiskMain',
        'Contractor',
        'System',
        'RiskTasks',
        'Attachments',
        'RAMain',
        'RATools',
        'RiskHierarchy',
        'BasicModel',
        'Dirty',
        'TSWeek',
        'TSBlock',
        'TSType'
    ],
    stores: [
        'Appointments',
        'Status',
        'InventoryMain',
        'RiskMain',
        'System',
        'AppointmentsLocal',
        'InventoryMainLocal',
        'InventoryUserLocal',
        'SystemLocal',
        'RiskMainLocal',
        'Contractors',
        'ContractorsLocal',
        'InventoryUser',
        'RiskTasks',
        'RiskTasksLocal',
        'AttachmentsLocal',
        'Attachments',
        'RATool',
        'RAMain',
        'RAToolLocal',
        'RAMainLocal',
        'RiskHierarchy',
        'RiskLikeliHood',
        'RiskConsequences',
        'DirtyLocal',
        'TSWeek',
        'TSBlock',
        'TSBlockLocal',
        'TSWeekLocal',
        'TSType',
        'TSTypeLocal'
    ],
    views: [
        'formLogin',
        'timePicker',
        'inventoryPicker',
        'RiskTask',
        'RiskList',
        'Appointments',
        'RiskConDetail',
        'RiskSignature',
        'RiskRATools',
        'frmCarousel',
        'txtReadOnly',
        'RiskRating',
        'ContractorDetail',
        'navRisk',
        'tsDayDetails',
        'tsDayList'
    ],
    requires: [
        'Ext.device.Connection',
        'Ext.device.Device',
        'Ext.device.FileSystem',
        'Ext.device.Communicator'
    ],
    controllers: [
        'Login',
        'Details',
        'NavController',
        'ctlCommon',
        'ctlRisk',
        'ctlRiskRating',
        'ctlTimesheet',
        'ctlFileSystem',
        'Attachment'
    ],
    name: 'Mob2',

    launch: function() {
        Ext.Viewport.setMasked({xtype:'loadmask',message: 'Loading...'});  
        Mob2.apiURL =  Mob2.Config.getUrls().main;
        //set global online
        Mob2.isOnline = Ext.device.Connection.isOnline();
        var me = this;
        Mob2.userID = Mob2.app.getApplication().getController('Login').getCookie();
        console.log('url ' + Mob2.Config.getUrls().main);
        Mob2.sigPlaceholder = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAACWCAYAAACW5+B3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvvSURBVHhe7dtXb9VIAIZhh957B9F7R4Jrrvhdu38MiTuEEL333hG9t+x5R/miWQvYsCFZFr+PdGQfe5pTPs+ZOI0kSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIk6bfTN7DVb+7Lly9/DOx+04cPH5px48Y1Y8aMKfsTJkxoPn36VI4NV6//0m72kff/Vl/PwO6Q5bra+7+K3iX9ObCr35jB2xH9PQO7X8VpApEtQZtQ+lnhlOClfV5kZnKzDuWRkj65kdQ3AK41534FvXH4O9kBI/vTrv+Nz58/N2PHji0hBPZBDuTYcKSdtFW//xntD1Ud/iMd9tK3+JOnguCNegZah/FwELSZUWdSN5oBSN/tmTX7OS6NJoNXRWa4CdrMSAmnBOVw0BZoq26v/X4kJWDrPg1d/RcMXhUE7rt37waDNkGZ7XAlxOsZJ/0QfKwjj7TcWMDsvp7h1+ek0WDwquCPTg8ePCj77eD9WeGbduuZJ2H/8OHD8n4kEbT0zZb+eNXHpNFk8Kp49epVc+vWrRJECch6O1xpox106Xc0ZAz3798vL/yMa5N+lMHbIfV6JgEYCcOXL18OhiKBVC89pO7Hjx//tgV16jD92n7dd73/9u3b5s2bN4Pl2KZtZuFZhmAfqVu3gZzPFtmnDZYTeHSM7Zw5c5p58+aVfa4vSw3116TdD9uvtR0plzbYZr89VsnbfUf0QqCfACBEEwiEDuH69OnT5saNG2WpYfny5c369eubqVOnlnOUv3jxYikfy5Yta6ZNm1aCjDJ3795tFixYUALm9u3bJZSov3DhwmbKlCmDfRJwlOHF+8ePHzeXL19unj9/XvrlNX369HKedh89elTOYebMmSUs6Zdx00f+sYO2COv8w8fVq1dLmNMvNm3a1IwfP768J9jv3btX9hkzY6I+NwDqgWOLFy9uXrx4UfqdPXt2GROzZOpzTewT6JMnT24WLVpUrpc+aCv9pC3Gxrmh6NX1d7ID/CZ3RC84StoSDLwykyVcCJwzZ84MhsPevXub+fPnN69fvy7BePbs2XKcOoQOobRt27Zm0qRJJSAPHjzYLFmypIQT7dD+xIkTS5Bu37691E3AUYZ23r9/X9q9cuVKOcZY9uzZ06xatar0e/LkyTIDZ//Zs2elT4Jyx44dpSxoB9QHYcfN48iRI6V9gpkAZgyrV68uoU2ZY8eOlTDcvXt3uWZuPNevXx+8wXCMmwvBv2bNmmbjxo3l+OHDh8sxvjbcYAhrvgYEL18P2s/Y6IfrZQwGr9pcauiIhBO/17wIBRAcc+fObVauXFlmb4QM4cp5ZqQ3b94sobJly5Zm69atJQA5/uTJk9IOdQiWO3fulBnghg0byoyZMKIuQUVApr8EPkHEjJhy9Ee/s2bNKmVoi1k0M0363bVrV+mHmSrHE960mXaTV+fOnSsz4507dzbr1q0rQc3Ng/BmfKlHMDIG2iJ0aXft2rXlWtlyQ+KmQvCD8symWZNmf+nSpWVcBDTXyU0iX2PkpgBuOlLN4O0YAopQSJDw8ZzwY3ZK0BGc+ThPIBJezBj5uM7aKOHCbJIAAvuUJVwI8M2bN5cXgcnHb0IvAUnfvOg3H+cJfMKfOvRPeyx7MLslAAlxwpP++dh/6dKl0m8dumwZF0FKWIJrYvbMOBg/YwHXzXjzNWDWyh/3GAt9MQ62zJCZrdYzVcZMO4yZcoyJMc6YMaMEdB28uVbQl1TzJ6IjCA2ChhcIBYKC0CJceM/MNYFBOBKkhM/p06fLTJItIUW4cR60R3gTmnwEp5+ENgHGY1v0kxCKhFT6TjgxHpYHCDTWexOwBPGKFSvKzJKyjBXU5TxbjjFmZszHjx8vyxgXLlwofTCbZpwpy3UxhlwLNxhuAMyKKUdfXEOCl+sCZRgLN6fcuJhhs19fQ9T7Uhi8HZKgBcHDCxwjYBJqIJAIzRMnTpS1WOoyK2SWRyAlwAmkfIQnlEBZzjM7THsJSKTf3Ah4X7dHWZYWcrMIwo5x5ljaZksdZJbM2AldZs+EMMsBmQ0zvtSp9xkHAZrjzGTZ5no4T//pFwQv55FwzntwzYav2gzejuCXn2BIaCRgeHGOYKk/jhMwzHJZh+XjOoHLi4/YtMMrbdIWYcMyQdqkH2aehGWCKFvqpUzqJ5zYB2uy4HjGzBMO1KOfzETrdVvaYjaa5QXGy3IDM+dTp04NlqUPXmmXuiyd0HaClGPMvDMujlE+dfgapTxlUg65zpSV2vzJ6BCC6WthQIAQMsxkWfMEgcIf0HhagSDjKQXCiicgCD72+WifWSBPBvCHNAKIfljzpCwf/Wkfmaki5RgPfSaskD+kEYaUoSz7165dK+PIDDkhzZYybJnlMhZmvoyb4GX9mtkufVEubbDPzYb3+ScOjoFr4Y+I1GH8jIOvUQI/5VDPemvU43iuXwqDtyPav/wET46xJXyYUfJIFcEFQpOP6iw3sL5LkJ4/f74ELiEUec+zrZTlcS1my4QVwR11fwRSwpP6tMuTBAQbddhniYPj9M2LMGftlSUNgo82CL0EOlvGmzpHjx4t10OIMxOmLKhHn2y52XCO2Tlj53E4xs4fBRkbs2QQwJlpU4/3XF+uIeNpqwNaCoNXBU8MECIETv6dlr/sc4yP6TxXSzgRigQVCJ/MennigUAknAlM1otZluB4gpHybYQXyxE8rcAzuIQy4cof6linJQhpjxkos1ce3wJ9ZtZKG7x4z3O3hCUzX0I3NwpmwPRPGbb0k/HQLo+HEdaMgz4JadZ4aZ+yXAMhTR0COBLM3LgSsnUAMy6pzc9AHdELhe9OvZi18XGb5QVCiHAlYAg/Zp+cJyAJvvxTAwHJ8UOHDpWAJcDyH12EFo90EXQEEQFE2QQRw0mI8QwtSwnMsFlT5jjtMxZm0rwn9DhHuNMe7SJtJuxolwBn9s5x6nOzIMgJYAKSJQT2GR+BSh2WInieN2HMOWbMPF7HNVOGa+M818rMl32ulZsC4+FrRkjTdr0kwbGh6pX1d7ID/CZ3RC8Avhu8BAizPIKQcOI94UGwESpUJ6TIBd4TaKzFcv7AgQPliQf+wYIApAxlKVeHUMIx24QnoZd1UsKM+vTHe7Z1fd7zom5CM/tIwIPj3CRYx62PpZ0Ec/4IyDXQDmMg+Pfv39/s27evnONYrp996iPHaZ+vG3Id2Ufe/5Ne+/5OdsDQfhr020uQtEMyIZgAzfGEHcc4R7AkcFIGdY5wjvd50S5laYtzmQ3X0h5lE4rtoOU8W14cT5vUIQxTn2OMlb5pB2yZ1bOcwtouyxrss9zALJsbAuUJVtrPeECbCfSsH3Ms23pfqhm8KhJUhEqCjMDheBvlElzsJ/QItRyjLhJ2CR+OpzxSNv3mlYClXF0XnE+/HMuMM8czNqQOZSmXwM5xApMlE+qwxsuaMKHLTJj/mOM851I+eJ9j9TVkn232U04KfyI6ohcC3512ERoJj2wJPrYgfBJa2U8o8iQBf5xj6YEX5yhDXcoQvLSVdtMGdVOGLe95US7H2M/Q22PgePpin236oD6yhMJ5wpnzlGNM9dIA67RcB8sKtMl/4rG2yzmkj1re0yavzIozBlDvR/Tq+jvZAX6TO6IXEt8N3m+pAyRhi4QMkhUcS1i3y0c7yHh9K5woS9sJMsq1j9FHlkdoqy4LApbzdV+cr4M3mOWyvJB2QFlkvLW8T191vzmXdoaqV97fyQ7wm9wRvSD4V8Gr0WXwdsOPfQ6SJA2bwStJo8zglaRR5npSR/T39/85sKtfWF9fn98nSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZL+d5rmL7AFtRn4N/dmAAAAAElFTkSuQmCC';
        if(!Mob2.userID){
            //console.log('going to login');
            var login =  Ext.create('Mob2.view.formLogin', {fullscreen: true});
            Ext.Viewport.add(login);        
            login.show();
            Ext.Viewport.setMasked(false);
        }else{ 
            console.log('made it to launch - getApplication');
            this.getApplication().getController('ctlCommon').startApp(); 
        }
    }

});
